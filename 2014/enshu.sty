%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% enshu.sty
%
% Author: 黒木 玄 <kuroki@math.tohoku.ac.jp>
% Date: Tue Feb 11 21:25:29 JST 2003
% Copyright: 2003 (c) Gen KUROKI <kuroki@math.tohoku.ac.jp>
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% 使い方
%
% 1. このファイルの内容を適当に書き変える.
%
% 2. 以下のような LaTeX ファイルを作成する.
%
%  \documentclass[12pt]{jarticle}
%  \usepackage{amsmath,amssymb}
%  \usepackage{enshu}
%  %
%  % ここに自分専用のマクロや \setlength や \newtheorem などを書く。
%  %
%  \begin{document}
%
%  \title{タイトル}
%  \author{名前}
%  \date{年月日}
%  \maketitle % 上記のタイトル、名前、年月日を印刷
%  \tableofcontents % 目次を印刷
%
%  \section{序文}
%  \label{sec:intro}
%  %
%  % ここに序文の内容を書く。
%  %
%
%  \section{最初の節}
%  \label{sec:hoge} % 引用するときには「第\ref{sec:hoge}節」と書く。
%
%  % ここに色々書く。
%
%  \section{次の節}
%  \label{sec:moge}
%
%  % ここに色々書く。
%
%  \section{終わりの節}
%  \label{sec:hoe}
%
%  % ここに色々書く。
%
%  % 以下は文献表。引用するときは \cite{chosha1} のように書く。
%  %
%  \begin{thebibliography}{99}
%
%  \bibitem{chosha1}
%  著者1, 論文タイトル1, 雑誌名, Vol.~12, No.~2, 1999, 23--45
%
%  \bibitem{chosha2}
%  著者2, 論文タイトル2, 雑誌名, Vol.~104, No.~4, 2000, 223--256
%
%  \end{thebibliography}
%
%  \end{document}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagestyle{headings}
\setlength{\oddsidemargin}{0cm}
\setlength{\evensidemargin}{0cm}
\setlength{\topmargin}{-1.50cm}
\setlength{\textheight}{25.4cm}
%\setlength{\topmargin}{-0.8cm}
%\setlength{\textheight}{24cm}
\setlength{\textwidth}{16cm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% private macros
%

\newcommand\N{{\mathbb N}} % natural numbers
\newcommand\Z{{\mathbb Z}} % rational integers
\newcommand\F{{\mathbb F}} % finite field
\newcommand\Q{{\mathbb Q}} % rational numbers
\newcommand\R{{\mathbb R}} % real numbers
\newcommand\C{{\mathbb C}} % complex numbers
\renewcommand\P{{\mathbb P}} % projective spaces

\newcommand\D{{\mathcal D}} % differential operators
\newcommand\E{{\mathcal E}} % pseudo diff. op.
\renewcommand\O{{\mathcal O}} % structure sheaf

\newcommand\Ob{\mathop{\mathrm{Ob}}\nolimits}
\newcommand\Hom{\mathop{\mathrm{Hom}}\nolimits}
\newcommand\Abel{\mathop{\mathrm{Abel}}\nolimits}
\newcommand\Module[1]{\mathop{#1\text{-}\mathrm{Mod}}\nolimits}

\newcommand\Bal{\mathop{\mathrm{Bal}}\nolimits}
\newcommand\End{\mathop{\mathrm{End}}\nolimits}
\newcommand\Aut{\mathop{\mathrm{Aut}}\nolimits}
\newcommand\Gal{\mathop{\mathrm{Gal}}\nolimits}
\newcommand\Int{\mathop{\mathrm{Int}}\nolimits}
\newcommand\Sub{\mathop{\mathrm{Sub}}\nolimits}
\newcommand\Sym{\mathop{\mathrm{Sym}}\nolimits}
\newcommand\sym{\mathop{\mathrm{sym}}\nolimits}
\newcommand\Alt{\mathop{\mathrm{Alt}}\nolimits}
\newcommand\alt{\mathop{\mathrm{alt}}\nolimits}

\newcommand\Ker{\mathop{\mathrm{Ker}}\nolimits}
\newcommand\Coker{\mathop{\mathrm{Coker}}\nolimits}
\newcommand\Image{\mathop{\mathrm{Im}}\nolimits}
\newcommand\Coimage{\mathop{\mathrm{Coim}}\nolimits}

\newcommand\eps{\varepsilon}
\newcommand\id{\mathop{\mathrm{id}}\nolimits}
\newcommand\injto{\hookrightarrow}
\newcommand\isom{\cong}
%\newcommand\isomto{\overset\sim\longrightarrow}
\newcommand\isomto{\overset\sim\rightarrow}
\newcommand\isoto{\isomto}
\newcommand\onto{\twoheadrightarrow}
\newcommand\mappedfrom{\leftarrow\joinrel\mapstochar}

%\renewcommand\implies{\Rightarrow}
%\renewcommand\iff{\Leftrightarrow}

\newcommand\indlim{\mathop{\mathrm{ind}\,\mathrm{lim}}}
\renewcommand\projlim{\mathop{\mathrm{proj}\,\mathrm{lim}}}

\renewcommand\d{\partial}
\newcommand\bdr{\d}
\newcommand\od[1]{\frac{d}{d #1}}
\newcommand\odfrac[2]{\frac{d #1}{d #2}}
\newcommand\pd[1]{\frac{\partial}{\partial #1}}
\newcommand\pdfrac[2]{\frac{\partial #1}{\partial #2}}

\renewcommand\setminus{\smallsetminus}

\newcommand\qstar[1]{}
\newcommand\Cech{\v Ceck}
\newcommand\Cone{\mathop{\mathrm{Cone}}}
\newcommand\pt{\mathop{\mathrm{pt}}}

\renewcommand\o{\otimes}
\newcommand\lie{\mathrm}
%\newcommand\trace{\mathop{\mathrm{trace}}\nolimits}
\newcommand\trace{\mathop{\mathrm{tr}}\nolimits}
\newcommand\sign{\mathop{\mathrm{sign}}\nolimits}
\newcommand\sgn{\mathop{\mathrm{sgn}}\nolimits}
\newcommand\ord{\mathop{\mathrm{ord}}\nolimits}
\newcommand\tor{{\mathrm{tor}}}
\newcommand\Irr{\mathop{\mathrm{Irr}}\nolimits}
\newcommand\closure{\overline}
\newcommand\Ad{\mathop{\mathrm{Ad}}\nolimits}
\newcommand\ad{\mathop{\mathrm{ad}}\nolimits}
\newcommand\bigzerol{\smash{\hbox{\large 0}}}             % 左下の大きなゼロ
\newcommand\bigzerou{\smash{\lower.3ex\hbox{\large 0}}}   % 右上の大きなゼロ
\newcommand\bigstarl{\smash{\hbox{\Large $*$}}}           % 左下の大きな星
\newcommand\bigstaru{\smash{\lower.3ex\hbox{\Large $*$}}} % 右上の大きな星
\newcommand\rank{\mathop{\mathrm{rank}}\nolimits}
%\newcommand\transpose[1]{\,{\vphantom{#1}}^t\!#1}
\newcommand\transpose[1]{\,{\vphantom{#1}}^t#1}
%\newcommand\transpose[1]{{#1}^t}
\newcommand\tp[1]{\transpose{#1}}
\newcommand\compconj[1]{\overline{#1}}
\newcommand\cc[1]{\compconj{#1}}
\newcommand\bra{\langle}
\newcommand\ket{\rangle}
\newcommand\lgl{\langle}
\newcommand\rgl{\rangle}
\newcommand\norm[1]{\left|\left|#1\right|\right|}
\newcommand\Repart{\mathop{\mathrm{Re}}\nolimits}
\newcommand\Impart{\mathop{\mathrm{Im}}\nolimits}
\newcommand\diag{\mathop{\mathrm{diag}}\nolimits}
\newcommand\Kbar{{\closure K}}
\newcommand\Span{\mathop{\mathrm{Span}}\nolimits}
\newcommand\MOD{\mathop{\mathrm{mod}}\nolimits}
%\newcommand\MOD{\,{\mathrm{mod}}\,}
\newcommand\Spec{\mathop{\mathrm{Spec}}\nolimits}
\newcommand\mSpec{\mathop{\mathrm{m\text{-}Spec}}\nolimits}
\newcommand\Ideal{\mathop{\mathrm{Ideal}}\nolimits}
\newcommand\bs{\backslash}
\newcommand\nil{\mathop{\mathrm{nil}}\nolimits}
\newcommand\rad{\mathop{\mathrm{rad}}\nolimits}

\newcommand\tA{{\widetilde A}}
\newcommand\ta{{\tilde a}}

\newcommand\Two{{\bold 2}}
\newcommand\Power{\cP}

\newcommand\open[1]{{\overset{\circ}{#1}}}
\newcommand\bcdot{{\raise0.2ex \hbox{\bf.}}}
\newcommand\bdot{{\raise0.4ex \hbox{\bf.}}}

\newcommand\su{\mathrm{su}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\cA{{\mathcal A}}
\newcommand\cB{{\mathcal B}}
\newcommand\cC{{\mathcal C}}
\newcommand\cD{{\mathcal D}}
\newcommand\cE{{\mathcal E}}
\newcommand\cF{{\mathcal F}}
\newcommand\cG{{\mathcal G}}
\newcommand\cH{{\mathcal H}}
\newcommand\cI{{\mathcal I}}
\newcommand\cJ{{\mathcal J}}
\newcommand\cK{{\mathcal K}}
\newcommand\cL{{\mathcal L}}
\newcommand\cM{{\mathcal M}}
\newcommand\cN{{\mathcal N}}
\newcommand\cO{{\mathcal O}}
\newcommand\cP{{\mathcal P}}
\newcommand\cQ{{\mathcal Q}}
\newcommand\cR{{\mathcal R}}
\newcommand\cS{{\mathcal S}}
\newcommand\cT{{\mathcal T}}
\newcommand\cU{{\mathcal U}}
\newcommand\cV{{\mathcal V}}
\newcommand\cW{{\mathcal W}}
\newcommand\cX{{\mathcal X}}
\newcommand\cY{{\mathcal Y}}
\newcommand\cZ{{\mathcal Z}}

\newcommand\bA{{\mathbb A}}
\newcommand\bB{{\mathbb B}}
\newcommand\bC{{\mathbb C}}
\newcommand\bD{{\mathbb D}}
\newcommand\bE{{\mathbb E}}
\newcommand\bF{{\mathbb F}}
\newcommand\bG{{\mathbb G}}
\newcommand\bH{{\mathbb H}}
\newcommand\bI{{\mathbb I}}
\newcommand\bJ{{\mathbb J}}
\newcommand\bK{{\mathbb K}}
\newcommand\bL{{\mathbb L}}
\newcommand\bM{{\mathbb M}}
\newcommand\bN{{\mathbb N}}
\newcommand\bO{{\mathbb O}}
\newcommand\bP{{\mathbb P}}
\newcommand\bQ{{\mathbb Q}}
\newcommand\bR{{\mathbb R}}
\newcommand\bS{{\mathbb S}}
\newcommand\bT{{\mathbb T}}
\newcommand\bU{{\mathbb U}}
\newcommand\bV{{\mathbb V}}
\newcommand\bW{{\mathbb W}}
\newcommand\bX{{\mathbb X}}
\newcommand\bY{{\mathbb Y}}
\newcommand\bZ{{\mathbb Z}}

\newcommand\frakA{{\mathfrak A}}
\newcommand\frakB{{\mathfrak B}}
\newcommand\frakC{{\mathfrak C}}
\newcommand\frakD{{\mathfrak D}}
\newcommand\frakE{{\mathfrak E}}
\newcommand\frakF{{\mathfrak F}}
\newcommand\frakG{{\mathfrak G}}
\newcommand\frakH{{\mathfrak H}}
\newcommand\frakI{{\mathfrak I}}
\newcommand\frakJ{{\mathfrak J}}
\newcommand\frakK{{\mathfrak K}}
\newcommand\frakL{{\mathfrak L}}
\newcommand\frakM{{\mathfrak M}}
\newcommand\frakN{{\mathfrak N}}
\newcommand\frakO{{\mathfrak O}}
\newcommand\frakP{{\mathfrak P}}
\newcommand\frakQ{{\mathfrak Q}}
\newcommand\frakR{{\mathfrak R}}
\newcommand\frakS{{\mathfrak S}}
\newcommand\frakT{{\mathfrak T}}
\newcommand\frakU{{\mathfrak U}}
\newcommand\frakV{{\mathfrak V}}
\newcommand\frakW{{\mathfrak W}}
\newcommand\frakX{{\mathfrak X}}
\newcommand\frakY{{\mathfrak Y}}
\newcommand\frakZ{{\mathfrak Z}}

\newcommand\fraka{{\mathfrak a}}
\newcommand\frakb{{\mathfrak b}}
\newcommand\frakc{{\mathfrak c}}
\newcommand\frakd{{\mathfrak d}}
\newcommand\frake{{\mathfrak e}}
\newcommand\frakf{{\mathfrak f}}
\newcommand\frakg{{\mathfrak g}}
\newcommand\frakh{{\mathfrak h}}
\newcommand\fraki{{\mathfrak i}}
\newcommand\frakj{{\mathfrak j}}
\newcommand\frakk{{\mathfrak k}}
\newcommand\frakl{{\mathfrak l}}
\newcommand\frakm{{\mathfrak m}}
\newcommand\frakn{{\mathfrak n}}
\newcommand\frako{{\mathfrak o}}
\newcommand\frakp{{\mathfrak p}}
\newcommand\frakq{{\mathfrak q}}
\newcommand\frakr{{\mathfrak r}}
\newcommand\fraks{{\mathfrak s}}
\newcommand\frakt{{\mathfrak t}}
\newcommand\fraku{{\mathfrak u}}
\newcommand\frakv{{\mathfrak v}}
\newcommand\frakw{{\mathfrak w}}
\newcommand\frakx{{\mathfrak x}}
\newcommand\fraky{{\mathfrak y}}
\newcommand\frakz{{\mathfrak z}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% theorems
%
\newtheorem{theorem}{定理}
\newtheorem{prop}[theorem]{命題}
\newtheorem{lemma}[theorem]{補題}
\newtheorem{cor}[theorem]{系}
\newtheorem{example}[theorem]{例}
\newtheorem{definition}[theorem]{定義}
\newtheorem{rem}[theorem]{注意}
\newtheorem{guide}[theorem]{参考}
\newtheorem{summary}[theorem]{要約}
\newtheorem{axiom}[theorem]{公理}

\numberwithin{theorem}{section}
\numberwithin{equation}{section}
\numberwithin{figure}{section}
\numberwithin{table}{section}

\newcommand\secref[1]{第\ref{#1}節}

\newcommand\theoremref[1]{定理\ref{#1}}
\newcommand\propref[1]{命題\ref{#1}}
\newcommand\lemmaref[1]{補題\ref{#1}}
\newcommand\corref[1]{系\ref{#1}}
\newcommand\exampleref[1]{例\ref{#1}}
\newcommand\definitionref[1]{定義\ref{#1}}
\newcommand\remref[1]{注意\ref{#1}}
\newcommand\guideref[1]{参考\ref{#1}}
\newcommand\summaryref[1]{要約\ref{#1}}
\newcommand\axiomref[1]{公理\ref{#1}}

\newcommand\figureref[1]{図\ref{#1}}
\newcommand\tableref[1]{表\ref{#1}}

%
% 定理環境の中で斜体を使わない
%
\makeatletter
\def\@begintheorem#1#2{\trivlist
   \item[\hskip \labelsep{\bfseries #1\ #2}]\rmfamily}
\def\@opargbegintheorem#1#2#3{\trivlist
      \item[\hskip \labelsep{\bfseries #1\ #2\ (#3)}]\rmfamily}
\makeatother

%
% proof
%
\makeatletter
\newenvironment{proof}[1][\proofname]{\par
  \normalfont
  \topsep6\p@\@plus6\p@ \trivlist
  \item[\hskip\labelsep{\bfseries #1}\@addpunct{\bfseries.}]\ignorespaces
}{%
  \endtrivlist
}
%\newcommand{\proofname}{Proof}
\newcommand{\proofname}{証明}
\makeatother

%
% \qed
%
\makeatletter
\def\qedsymbol{\RIfM@\bgroup\else$\bgroup\aftergroup$\fi
  \vcenter{\hrule\hbox{\vrule\@height.8em\kern.6em\vrule}\hrule}\egroup}
\def\qed{\RIfM@\else\unskip\nobreak\fi\quad\qedsymbol}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% 以下は演習専用問題のプリント作成のためのマクロ.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% 使い方
%
%   \begin{question}
%   \label{q:2x+1=0}
%     方程式 $2x+1=0$ を解け. \qed
%   \end{question}
%
% で次のように印刷される.
%
%   [12] 方程式 2x + 1 = 0 を解け. □
%
% 最初の [12] は自動的に付けられる問題番号.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% define \newexecise
%
\makeatletter

\def\newexercise#1{\@ifnextchar[{\@oexcs{#1}}{\@nexcs{#1}}}

\def\@nexcs#1#2{%
\@ifnextchar[{\@xnexcs{#1}{#2}}{\@ynexcs{#1}{#2}}}

\def\@xnexcs#1#2[#3]{\expandafter\@ifdefinable\csname #1\endcsname
{\@definecounter{#1}\@addtoreset{#1}{#3}%
\expandafter\xdef\csname the#1\endcsname{\expandafter\noexpand
  \csname the#3\endcsname \@excscountersep \@excscounter{#1}}%
\global\@namedef{#1}{\@excs{#1}{#2}}\global\@namedef{end#1}{\@endexercise}}}

\def\@ynexcs#1#2{\expandafter\@ifdefinable\csname #1\endcsname
{\@definecounter{#1}%
\expandafter\xdef\csname the#1\endcsname{\@excscounter{#1}}%
\global\@namedef{#1}{\@excs{#1}{#2}}\global\@namedef{end#1}{\@endexercise}}}

\def\@oexcs#1[#2]#3{\expandafter\@ifdefinable\csname #1\endcsname
  {\global\@namedef{the#1}{\@nameuse{the#2}}%
\global\@namedef{#1}{\@excs{#2}{#3}}%
\global\@namedef{end#1}{\@endexercise}}}

\def\@excs#1#2{\refstepcounter
    {#1}\@ifnextchar[{\@yexcs{#1}{#2}}{\@xexcs{#1}{#2}}}

\def\@xexcs#1#2{\@beginexercise{#2}{\csname
    the#1\endcsname}\ignorespaces}
\def\@yexcs#1#2[#3]{\@opargbeginexercise{#2}{\csname
       the#1\endcsname}{#3}\ignorespaces}

\def\@excscounter#1{\noexpand\arabic{#1}}
\def\@excscountersep{.}
\def\@beginexercise#1#2{\it \trivlist \item[\hskip \labelsep{\bf #1\ #2}]}
\def\@opargbeginexercise#1#2#3{\it \trivlist
      \item[\hskip \labelsep{\bf #1\ #2\ (#3)}]}
\def\@endexercise{\endtrivlist}

%
% new exercises
%
% doesn't use italic fonts in exercises (for jlatex)
\def\@beginexercise#1#2{\trivlist \item[\hskip \labelsep{\bf [#1#2]}]}
\def\@opargbeginexercise#1#2#3{\trivlist
      \item[\hskip \labelsep{\bf [#1#2]\ (#3)}]}
%      \item[\hskip \labelsep{\bf [#1#2]\ (#3).}]}
\def\@endexercise{\endtrivlist}

\makeatother

%
% question environment
%
\newexercise{question}{}%[section]
\newcommand\qref[1]{{\bf [\ref{#1}]}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
